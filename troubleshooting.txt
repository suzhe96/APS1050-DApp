Not compiling?

Make sure that you know what version of solidity you are running

open up a terminal from within the desktop (not within a project) and write
truffle version
you will see the version of solidity

all the contracts in the contracts directory (including Migrations.sol)
should have a pragma statement that coincides with the version of
solidity you are running e.g. if your version of solidity is 0.5.12 then

MyContract.sol
Migrations.sol

should begin with the line

pragma solidity ^0.5.12;

Also the truffle config.js should have a version of that is compatible:

truffle-config.js

module.exports = {
  // See <http://truffleframework.com/docs/advanced/configuration>
  // for more about customizing your Truffle configuration!
  networks: {
    development: {
      host: "127.0.0.1",
      port: 7545,
      network_id: "*" // Match any network id
    }
  },
  compilers: {
    solc: {
      version: '^0.5.12',
      optimizer: {
        enabled: true,
        runs: 200
      }
    }
  }
};

If you want to upgrade solidity you need to ugrade truffle 
$ npm uninstall -g truffle
$ npm install -g truffle@^5.1.12


Metamask misbehaving?
Uninstall and re-install Metamask and relink it to Ganache.
Sorry, Metamask is very finicky.



